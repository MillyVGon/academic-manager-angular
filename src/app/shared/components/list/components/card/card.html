<mat-card appearance="outlined" class="card-container" [ngClass]="cardColor()">
    <mat-card-header>
        <mat-card-title-group>
            <mat-card-title> {{ projectTitle() }} </mat-card-title>
            <mat-card-subtitle> {{ projectDiscipline() }} </mat-card-subtitle>
            <div class="datetime">
                <span class="date"> {{ formatDate(projectDatetime()) }} </span>
                <span class="hour"> {{ formatHour(projectDatetime()) }} </span>
            </div>
        </mat-card-title-group>
    </mat-card-header>

    <mat-card-content>
        <p class="description" [class.collapsed]="!expanded()" #desc>
            {{ projectDescription() }}
        </p>
    </mat-card-content>

    @if (showToggle()) {
        <mat-card-actions>
            <button mat-button (click)="toggleExpand()">
                {{ expanded() ? 'Ler menos' : 'Ler mais' }}
            </button>
        </mat-card-actions>
    }
    <div class="card-button">
        <mat-card-actions>
            @if (!projectDone()) {
                <button matButton (click)="edit.emit()">EDITAR</button>
            }
            <button matButton (click)="delete.emit()">EXCLUIR</button>
        </mat-card-actions>

        <mat-card-actions>
            @if (!(cardColor() === 'project-expired')) {
                @if (!projectDone()) {
                    <button matButton (click)="done.emit()">PRONTO</button>
                } @else {
                    <button matButton (click)="reopen.emit()">RETOMAR</button>
                }
            }
        </mat-card-actions>
    </div>
</mat-card>